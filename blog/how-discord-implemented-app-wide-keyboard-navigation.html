<!DOCTYPE html><!-- Last Published: Tue Dec 19 2023 07:48:59 GMT+0000 (Coordinated Universal Time) --><html data-wf-domain="discordpages.webflow.io" data-wf-page="6102fadda3eb27bb56da0f57" data-wf-site="5f8dd67f8fdd6f51f0b50904">
<!-- Mirrored from discord.com/blog/how-discord-implemented-app-wide-keyboard-navigation by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 02 Jan 2024 08:48:21 GMT -->
<head><meta charset="utf-8"/><title>How Discord Implemented App-Wide Keyboard Navigation</title><meta content="We expanded keyboard support beyond just specific shortcuts to *everything*, making Keyboard Navigation a truly first-class experience." name="description"/><meta content="How Discord Implemented App-Wide Keyboard Navigation" property="og:title"/><meta content="We expanded keyboard support beyond just specific shortcuts to *everything*, making Keyboard Navigation a truly first-class experience." property="og:description"/><meta content="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg.png" property="og:image"/><meta content="How Discord Implemented App-Wide Keyboard Navigation" property="twitter:title"/><meta content="We expanded keyboard support beyond just specific shortcuts to *everything*, making Keyboard Navigation a truly first-class experience." property="twitter:description"/><meta content="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg.png" property="twitter:image"/><meta property="og:type" content="website"/><meta content="summary_large_image" name="twitter:card"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/css/discordpages.7ab087c99.css" rel="stylesheet" type="text/css"/><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/60ae916347747e71167e21cc_favicon.png" rel="shortcut icon" type="image/x-icon"/><link href="../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/5f91fae62cc821206588b837_Frame%20246.png" rel="apple-touch-icon"/><link href="rss.xml" rel="alternate" title="RSS Feed" type="application/rss+xml"/><!-- Localize integration code -->
<script src="../../ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="../../global.localizecdn.com/localize.js"></script>
<script src="../webflow-scripts/head.js"></script>
<style>
  .nav-bar-hack {
  	bottom: 0px !important;
    height: auto !important;
  }
  
  body a.w-webflow-badge {
    display: none !important;
  }
  
  body {
  	text-rendering: optimizeLegibility;
  }
  
  @media screen and (max-width: 476px) {
    .hide-on-mobile {
      display: none;
    }
  }
  
  .hr-style {
  border: 0;
  height: 8px;
  background-color: #F0F0F0;
  margin: 20px 0px;
  }
  
  .BlogBodyQuote {
  grid-column: 2/-1;
  font-size: 24px;
  line-height: 36px;
  padding: 0px 0px 15px 40px;
  font-style: italic;
  margin: 40px 0px 50px 0px;
}

.quote-text {
  width: 100%;
  margin-top: 10px;
}

.quote-icon {
  position: relative;
  top: 16px;
}

footer.quote-footer {
  font-size: 16px;
  margin-top: 20px;
  font-style: normal;
}
</style>

<style>
.language{
    display:flex;
    user-select: none;
}
.language .lang-container {
    position: relative;
}

.language .lang-selector-container {
    display: flex;
    align-items: center;
    cursor: pointer;
}

.language .locale-container{
    display: flex;
    align-items: center;
}

.language .flag {
    width: 24px;
    height: 16px;
    margin-right: 8px;
}

.language .selector-language-name{
    color: #fff;
    font-size: 14px;
    line-height: 18px;
}

.language .arrow-icon{
    padding-left: 8px;
}

.language .lang-dropdown-container {
    z-index: 10;
    bottom: 100%;
    margin-bottom: 8px;
    position: absolute;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 1px 1px rgb(0 0 0 / 10%);
    overflow: hidden;
    display: none;
}

.language .lang-dropdown {
    max-height: 320px;
    min-width: 150px;
    overflow-x: hidden;
    overflow-y: auto;
    overscroll-behavior: contain;
}

.language .dropdown-item{
    padding: 8px;
}

.language .dropdown-clickable{
    cursor: pointer;
}

.language .dropdown-language-name{
    color: #23272a;
    font-size: 14px;
    line-height: 18px;
}

.flag-ru{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4da57001e8f59b8a77_62cb46f39e6ac4c46ce39566_ru.png);
}

.flag-bg{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cdbc0dc0fb5f55e3098f_6257c2a1e7544e303083b2b1_bolg.png);
}
.flag-cs{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4c83827a1284afe239_62cb46f1254305732a01676d_cs.png);
}
.flag-da{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4ad6ee377e0df4cde6_62cb46f16128094022db6768_da.png);
}
.flag-de{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4aa35fe71fedf5e95f_62cb46f1c50496ce73c40d99_de.png);
}
.flag-en-GB {
    content:url("https://assets-global.website-files.com/6257adef93867e50d84d30e2/62d01c2078d11b68a1633276_Rectangle 1 (3).svg");
}
.flag-el{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4ca5700115ec9b8a67_62cb46f17c26b5fe5a53876f_el.png);
}
.flag-en-US{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cdbc488f5f603e7ecd2a_6257bf8b5ba300233705a542_en.png);
}
.flag-en{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cdbc488f5f603e7ecd2a_6257bf8b5ba300233705a542_en.png);
}
.flag-es{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4b7670687b935aaed4_62cb46f14edab1b0029593fc_es-ES.png);
}
.flag-fi{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb48951dec0cce94a2b1_62cb46f1921c0cf82fc59da7_fi.png);
}
.flag-fr{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4a01339d451d474860_62cb46f1544a7ab7c66e9ccb_fr.png);
}
.flag-hi{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb47b3070262fdccd2a6_62cb46f13fcb6e76c05b504e_hi.png);
}
.flag-hr{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4764813ee14c33c45f_62cb46f1aeebe9064763c90c_hr.png);
}
.flag-hu{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb486b18c7334c564b9a_62cb46f19e6ac41dcce39561_hu.png);
}
.flag-it{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb47fcf6b11ce186dd29_62cb46f1bd099a25f8f77ea4_it.png);
}
.flag-ja{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb49fa4234bc13a595aa_62cb46f1e819841940bec47d_ja.png);
}
.flag-ko{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4b6b18c7266d564ba3_62cb46f125430509b9016776_ko.png);
}
.flag-lt{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4bc5fa8c17a80ae4c4_62cb46f14edab152b8959405_lt.png);
}
.flag-nl{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4d6b18c71a53564bac_62cb46f3e00ff80959abff2a_nl.png);
}
.flag-no{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4d29670fb8a9998a06_62cb46f37c26b5e22453877d_no.png);
}
.flag-pl{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4fd9e48ce2224e71b3_62cb46f3c504963019c40db7_pl.png);
}
.flag-pt-BR{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4d41e0514ceaeb0814_62cb46f3d809bc2503e62bec_pt-BR.png);
}
.flag-ro{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4b7b2666d9520e434e_62cb46f36e94d725ce411ab6_ro.png);
}
.flag-sv{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb5036a202f7044eb402_62cb46f49e6ac47674e39567_sv-SE.png);
}
.flag-th{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb502ab71d0c254b8e0c_62cb46f465c529bf26e211a1_th.png);
}
.flag-tr{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4f41e0515a89eb082a_62cb46f4e819848178bec4d1_tr.png);
}
.flag-uk{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4f36a20273d04eb401_62cb46f37c26b54f6a53877f_uk.png);
}
.flag-vi{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4f00801f3750f4834e_62cb46f4e819840d89bec4d2_vi.png);
}
.flag-zh-Hans{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb5010e73af938ef607e_62cb46f49e6ac45f35e39568_zh-CN.png);
}
.flag-zh-TW{
    content:url(../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/6321cb4fd354ea61ac8db41c_62cb46f33fcb6ea5c95b5069_zh-TW.png);
}
</style>

<style>
.btn-wrapper a {
  color: #fff ;
}

/*
strong {
  font-weight: 700!important;
  font-size: 32px!important;
}
*/
</style>

</head><body><div style="background-color:hsla(205.7142857142857, 9.09%, 15.10%, 1.00)" class="header-blue-blog"><div data-w-id="268ebfa3-e656-b800-3b97-3f7bdfa2ec4d" class="blog-navbar"><a href="../blog.html" class="blog-brand-copy w-nav-brand"><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/613b8fc3834b2bd42157bc04_blogwhite.svg" loading="lazy" alt="Discord"/></a><div data-collapse="medium" data-animation="over-right" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-5 w-nav"><div class="container-790 w-container"><nav role="navigation" class="blog-nav w-nav-menu"><div data-delay="100" data-hover="true" class="w-dropdown"><div class="w-dropdown-toggle"><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/635157e8f94a8580bcbb3e32_Shape.svg" loading="lazy" alt="" class="icon mobile"/><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/614275ac3d35134cb2a96b63_down.svg" loading="lazy" alt="" class="icon white"/><div class="blog-nav-item">COLLECTIONS</div></div><nav class="dropdown-list w-dropdown-list"><div class="w-dyn-list"><div role="list" class="w-dyn-items"><div role="listitem" class="w-dyn-item"><a href="../category/community.html" class="dropdown-link w-dropdown-link">Community</a></div><div role="listitem" class="w-dyn-item"><a href="../category/company.html" class="dropdown-link w-dropdown-link">Discord HQ</a></div><div role="listitem" class="w-dyn-item"><a href="../category/engineering.html" class="dropdown-link w-dropdown-link">Engineering &amp; Developers</a></div><div role="listitem" class="w-dyn-item"><a href="../category/how-to-discord.html" class="dropdown-link w-dropdown-link">How to Discord</a></div><div role="listitem" class="w-dyn-item"><a href="../category/safety.html" class="dropdown-link w-dropdown-link">Policy &amp; Safety</a></div><div role="listitem" class="w-dyn-item"><a href="../category/product.html" class="dropdown-link w-dropdown-link">Product &amp; Features</a></div></div></div></nav></div><a href="../blog-featured.html" class="blog-nav-item w-nav-link">Featured</a><a href="../index.html" class="blog-nav-item w-nav-link">Discord.com</a><div class="w-embed"><form action="https://discord.com/blog/search" class="form-search w-form" style="display: flex">
<input type="search" class="text-field w-input" maxlength="256" name="query" placeholder="Search…" id="search" required="">
<input type="submit" value="" class="btn-search w-button">
</form>

<style> 
form.form-search.w-form:focus-within {
    border: 1px solid #fff;
}
</style></div><form action="https://discord.com/search" class="form-search w-form"><input type="search" class="text-field w-input" maxlength="256" name="query" placeholder="Search…" id="search" required=""/><input type="submit" value="" class="btn-search w-button"/></form></nav><div class="w-nav-button"><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/60b6ad79b75c18f025626c71_menuicon.svg" loading="lazy" alt="Menu" class="image-14"/></div></div></div></div></div><div style="background-color:hsla(205.7142857142857, 9.09%, 15.10%, 1.00)" class="blog-home-hero-header"></div><div class="blog-featured-section"><div class="blog-hero-container hero-offset w-dyn-list"><div role="list" class="collection-list w-dyn-items"><div role="listitem" class="collection-item-4 w-dyn-item"><div class="div-block-15"><img src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg.png" loading="lazy" alt="" sizes="(max-width: 767px) 92vw, (max-width: 991px) 90vw, (max-width: 1279px) 91vw, (max-width: 1919px) 92vw, 1368px" srcset="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg-p-500.png 500w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg-p-800.png 800w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg-p-1080.png 1080w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg-p-1600.png 1600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg.png 2000w" class="image-19"/></div><div class="blog-hero-heading-section"><a href="../category/engineering.html" class="blog-hero-category">Engineering &amp; Developers</a><a href="how-discord-implemented-app-wide-keyboard-navigation.html" aria-current="page" class="blog-hero-heading w--current">How Discord Implemented App-Wide Keyboard Navigation</a></div></div></div></div></div><div class="blog-post-container new"><div class="column-wrapper w-row"><div class="column-3 w-col w-col-2 w-col-stack"><div class="the-author-section"><img alt="" loading="lazy" width="72" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6126b858c5fd4773ce42ccc6_0_XdAwKyey_b45dhMb.png" class="image-22"/><div><div class="blog-post-author">Jon Egeland</div><div class="blog-post-author-name">December 16, 2020</div></div></div><div class="tag-section w-condition-invisible"><div class="divider-bar-copy"></div><div class="tags-sections-head">Tags</div><div class="collection-list-wrapper-2 w-dyn-list"><div class="empty-state w-dyn-empty"></div></div></div></div><div class="column-4 w-col w-col-8 w-col-stack"><div id="heading-1" class="rich-wrapper"><div class="blog-post-content w-richtext"><p>We believe that Discord is for everyone — which is why we’ve been hard at work this year to improve the accessibility of our apps across the board. We still have plenty more to go, but we thought we’d share part of the story of one of our recent projects: <a href="https://support.discord.com/hc/en-us/articles/1500000056121-Keyboard-Navigation-FAQ">Keyboard Navigation in the desktop app</a>.</p><p>This kind of work benefits all kinds of users. It enables those who can’t comfortably use a mouse to access everything in the app, assists screen reader users in understanding and interacting with Discord effectively, and provides power users with even more shortcuts and opportunities to work as efficiently as possible. As a relatively small team, projects like this let us have a big impact and raise the bar for everyone in one go.</p><p>Keen users may realize Discord has <a href="https://support.discord.com/hc/en-us/articles/225977308--Windows-Discord-Hotkeys">already supported some keyboard usage</a> in small parts of the app for years. Existing keyboard shortcuts allow you to move between channels, take you through input fields in forms, and quickly access things like Search and the <a href="https://support.discord.com/hc/en-us/articles/115000070311-Quick-Switcher-T-A-Y-N-E-">Quick Switcher</a>. The goal of our project was to expand keyboard support beyond just specific shortcuts to *everything*, making Keyboard Navigation a truly first-class experience.</p><figure class="w-richtext-align-center"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96efd4d906dbb73ac01_0_x1CoHZEqp2AVSV22.png"/></div><figcaption><em>The four parts of what you see at Discord at any time: your Server list, Channel list, Messages<br/>the Member List.</em></figcaption></figure><p>A number of design and engineering challenges stood in our way, but one was particularly difficult and was seemingly unanswered by modern browsers or other projects in the space: <strong>how do we consistently indicate where focus is on the page?</strong></p><p>That may sound like a simple and well-explored problem at a glance — we assumed it would be as well! As time went on, we quickly realized just how many unsolved complications and constraints ruled out all existing options we could find.</p><h1>The Problem</h1><p>If you’ve experimented with creating focus styles with CSS before, you’re probably familiar with the two primary options that browsers currently provide: <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus">the :focus selector</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/outline">the outline property</a>. These two options are how browsers tend to implement their default focus styles, but if you want consistency between different browsers or have a design specification to adhere to, it’s likely that you’ve added a rule like this somewhere in your styles:</p><blockquote>:focus {<br/>  outline: 3px solid deepskyblue;<br/>}</blockquote><p>This single rule should be enough to handle any element that has focus on the page and render a consistent, <em>hopefully</em>-visible ring around it. But, especially when integrating into a larger codebase, things start to fall apart fast.</p><p>Things like clipped outlines in overflow-hidden containers, mismatched radiuses on rounded shapes, and strangely positioned outlines based on the padding and margins of the active element, all of which you can <a href="https://bs128.csb.app/">see in action here</a>.</p><p>At face value, these seem like relatively simple problems to solve. Just move some padding around, use a box-shadow, or be careful when using overflow: hidden, and everything&#x27;s fine, right?</p><p>But that&#x27;s not really a scalable solution. We want to avoid the added burden of additional styling constraints that we can’t easily enforce with tooling, and we also want a system that will “just work” for our engineers.</p><p>The end result we want: Keyboard Navigation that lets anyone dash through Discord.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96eee975e41a99a2778_1_xih-82QabvXEiKzpVqdtMA.gif"/></div><figcaption><em>The end result we want: Keyboard Navigation that lets anyone dash through Discord.</em></figcaption></figure><p>We spent about a week exploring other possibilities. Everything from giving each element in our component library its own focus style, to having a global listener and renderer that tracks when document.activeElement changes. Going through all of the drawbacks and other issues that these options presented had could take up an entire post on their own, but nothing really stuck until we were willing to compromise.</p><p>From the shortcomings we encountered with default focus styles, we knew we had to detach the rendering from the target element. We also discovered that it couldn&#x27;t just be a single top-level component without a whole different crop of issues popping up. New problems, like rendering on top of hidden layers and keeping up with scroll positions, make these rings feel “floaty” and disconnected from the actual content of the page.</p><p>What we ended up with is a powerful and flexible system that meets all of our requirements, with escape hatches for the handful of edge cases we encountered related to interaction design.</p><p>The whole system is built on two components: FocusRing for declaring where a ring should be placed, and FocusRingScope for declaring a root position for rings to be rendered.</p><h1>The API</h1><h2><strong>FocusRing</strong></h2><p>FocusRing is the core driver of the entire system. It doesn&#x27;t actually render anything itself, but it handles everything from detecting when the target element gains and loses focus to communicating with the containing FocusRingScope and passing through any customizations that consumers specify.</p><p>For the majority of use cases, though, the usage is plain and simple: just wrap the target element with a FocusRing, and everything else is taken care of:</p><div class="w-embed w-script"><script src="../../gist.github.com/faultyserver/ad99219c67ca9d6d8ae3316d4105d3dd.js"></script></div><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96ece13599f5a338071_0_F_6AhbB7gLVRtm-q.png"/></div><figcaption><em>Example of a Focus Ring rendered around a Button as defined above.</em></figcaption></figure><p>By default, the FocusRing will take the child it is given and automatically inject onBlur and onFocus handlers using <a href="https://reactjs.org/docs/react-api.html#cloneelement">React.cloneElement</a>. Beyond that, it provides additional props to change whether the ring should try to emulate :focus or :focus-within, class names to apply directly to the child when it has focus, and even options for specifying a different target element for focus detection or where the ring will be positioned.</p><p>A more complex example with some of these options might look like this:</p><div class="w-embed w-script"><script src="../../gist.github.com/faultyserver/f2c9c72406c9f6a2db0e28f43f473549.js"></script></div><p>In this example, the focusTarget and ringTarget refs tell the FocusRing to listen for focus events on the input element itself, but render the actual ring around the entire div container. This kind of effect is extremely useful when the design of a component has a clear boundary that doesn&#x27;t line up with the focusable element it contains, such as that SearchBar above, or a custom Checkbox where the label gets included in the &quot;focused content&quot; but the focus is just on the input itself.</p><p>An example of the SearchBar defined above, with a FocusRing rendered around the entire container.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96e8b2fd9f2943094d9_0_pSW8b4WiGuW2HC3k.png"/></div></figure><h2><strong>FocusRingScope</strong></h2><p>FocusRingScope is the mediator for actually rendering rings. As mentioned before, rings can&#x27;t just be rendered at a single root of the DOM and instead have to be contained to smaller parts of the page (like scrollable areas or absolutely-positioned containers). The Scope declares the roots of those sections, where the nearest Scope in the ancestry of a Ring will be responsible for rendering it into the DOM.</p><p>This accommodates those situations where some elements might be partially occluded or scrolled out of the viewport and the rendered ring should respect those boundaries. All that’s required by the Scope is a reference to a container element, which it uses to calculate the position for the ring that it renders.</p><div class="w-embed w-script"><script src="../../gist.github.com/faultyserver/d1f51a4cd1362e69a30ab1c31c1a8928.js"></script></div><p>Internally, these components communicate through a <a href="https://reactjs.org/docs/context.html">context</a>, where the FocusRing provides the context with an element to render a ring around, which then calculates position and style properties, and finally FocusRingScope subscribes so that it gets updated whenever the target changes.</p><p>The only additional thing to remember is to include a FocusRingScope at the root of your app. Otherwise, rings won&#x27;t have anywhere to be rendered by default.</p><h1>Remaining Challenges</h1><p>Even with this approach, there are still a few problems that don’t have particularly clean solutions. We’ve managed to work around them all so far, but these are places where even a custom implementation runs into current browser limitations.</p><p>The good news is that at least some of these problems have proposed native solutions. It’s just a matter of time until they gain official support and then we’ll be able to swap them out.</p><h2>Keeping up with animations</h2><p>Transitions, transformations, and animations are a big part of modern web design. They provide affordances to help guide users and attract attention to important parts of the page, and generally just feel good when they’re done right.</p><p>But when something moves around on the page, it’s surprisingly hard to know where it actually is at any given time, or if it’s even moving at all.</p><p>Example of a Focus Ring not keeping up to date with the moving target element’s position.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96edcb3f97d62126df5_0_QniSpVw9oznNIKSG.gif"/></div><figcaption><em>Example of a Focus Ring not keeping up to date with the moving target element’s position.</em></figcaption></figure><p>Since we’re not rendering directly inline with the elements, we can’t just expect the animations to carry our ring along with them. Most of these work directly on individual elements, meaning only that element and its descendants are affected by the changes. Instead, we pretty much have to query the DOM for the new position of the element on every frame and re-render the ring accordingly.</p><p>Doing something on <em>every</em> frame is not ideal. We can at least use requestAnimationFrame to make sure that updates are scheduled appropriately and avoid re-rendering when positions haven&#x27;t changed, but the end result is unavoidably a constant loop that queries the DOM on every frame. We explored reducing the overhead of this by listening to animationstart and animationend events and only running the loop between those times, but because of how events and transforms the bubble through the DOM, it&#x27;s not always guaranteed to update properly.</p><p>What we really want from browsers here is a way of knowing <em>when</em> the layout of an element has changed and running a callback at that time. requestAnimationFrame lets you say something like &quot;I&#x27;m going to change something on the next frame&quot;, but you can&#x27;t currently do the inverse and say “let me know when something will be changing on the next frame” to be able to listen for those changes natively. Something like window.onAnimationFrame would be a wonderful addition here. However, it doesn’t currently look like there are any proposals for this kind of hook, meaning a real solution is unlikely to come any time soon.</p><p>Our implementation works pretty well now, but there are still occasionally some lagged frames that would be nice to get rid of. For now, the result is still solid and it doesn’t seem possible to do much better.</p><p>Example of a focus ring that nearly keeps up with an animation.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96febcbcb1b8e6269dd_0_XEB_YFiItS6GtTU2.gif"/></div><figcaption><em>Example of a focus ring that nearly keeps up with an animation.</em></figcaption></figure><h2>Adaptive shapes</h2><p>One of the original problems we called out about using a standard outline in CSS is that it is extremely limited in how you can customize it. While the shorthand looks a lot like border, you can&#x27;t actually set an outline-radius or anything to adjust the offset of the outline from the element.</p><p>Luckily, we’re not relying on those properties at all here. Since we’re explicitly rendering a distinct element to show the ring, we can do anything we want. But, that also means that we don’t inherit any of these properties from the target element either. Specifically, an accurate border-radius is one of the key things that makes the focus ring feel tight and properly integrated with the elements on the page. For example, a ring with a 4px radius would look out of place around a button with more rounded corners:</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96f3c89e2d43a2baf6d_0_xi6rR8aYbskOMx7-.png"/></div></figure><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96fec23bbd53240f155_0_HnMsQd616hfOpn4G.png"/></div><figcaption><em>Comparison of one ring with a constant border radius and another with an adaptive radius to match the target element.</em></figcaption></figure><p>Making this kind of adjustment turned out to be surprisingly simple. We already have the target element in the context, so while we’re querying for the position, we can also inspect the style of the element and pick up whatever radius it has set. Then, using some CSS custom properties, it can automatically adapt every time.</p><div class="w-embed w-script"><script src="../../gist.github.com/faultyserver/407a8e88d547a9ef189ee6d3834a18be.js"></script></div><p>Even better, the value returned by getComputedStyle will give the full shorthand value in case the radius is different for any individual sides of the element, so what might seem like weird cases will actually get handled by default, with no overhead for users to worry about. We can easily expand this same functionality to other properties like z-index in case an element is absolutely positioned, or for anything else in the future.</p><p>This isn’t a problem that necessarily has a better solution. It’d be nice if outline had a corresponding outline-radius property or inherited from border-radius, but it wouldn&#x27;t actually be usable in this case because of all the other problems with :focus and outline. Any amount of additional control would always be welcome.</p><h2>Adaptive colors</h2><p>One of the last things we wanted to do was make sure that the focus ring that gets rendered is sufficiently visible on top of whatever background the target element is sitting on.</p><p>For example, Discord often uses different colored backgrounds on user profiles to represent different statuses like playing a game, streaming, or listening to music. These colors don’t always play well with the default blue that we’re using for rings throughout the rest of the app.</p><p>Instead, we want to be able to change the ring’s color to something like a translucent white, which is consistently visible <em>and</em> doesn’t visually clash with the background color.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96fc1f403584b7cecbc_0_ovAXiod10csQDzUj.png"/></div><figcaption><em>Example of a translucent white ring outline on a bright green background.</em></figcaption></figure><p>At a glance, this seems straightforward enough to implement: just like border-radius and z-index from earlier, we can just query the element and set a CSS property in response to whatever we find, right? But, at least in browsers today, there isn&#x27;t a direct way to get the background color that an element is sitting on. You can find an element&#x27;s background-color, but that&#x27;s not the same thing. And just looking at the FocusRingScope container&#x27;s background misses any cases where someone might just render a div with a background somewhere in between the ring and the scope.</p><p>Thankfully there is still <em>a</em> way to do this, though it’s neither pretty nor efficient. The only currently-available way to accurately get the color <em>behind</em> an element is to manually traverse all of the ancestor elements and check their background colors. Even then, you have to do some math to composite the colors together in case there’s any opacity in them. The efficiency of this approach depends on how complicated and deep the target element’s DOM subtree is.</p><p>Depending on how complicated of a DOM structure the element is within, this can be somewhat simple to do, or may involve a few dozen elements and a relatively slow DOM query for each one.</p><p>While that’s a workable solution, there may actually be a better way in the near future: There’s a current discussion abouturrentBackgroundColor <a href="https://github.com/w3c/csswg-drafts/issues/5292">value to CSS</a>. This would ideally be queryable as well and would skip all of the manual ancestor traversal that is currently required. And another suggested feature in the CSS Color Level 5 draft is <a href="https://www.w3.org/TR/css-color-5/#colorcontrast">the color-contrast function</a>, which would let authors specify a list of colors and have the browser automatically pick the most visible color.</p><h1>The Future</h1><p>We only covered one small (but <em>certainly</em> not trivial) aspect of our entire Keyboard Navigation project here. While our primary goal was just to integrate keyboard navigation into the existing app, we also wanted to make sure we could maintain that baseline in the future and avoid most regressions as the app grows and evolves with time.</p><p>All told, there were a number of other challenges that we had to solve, each with their own complications. Just a few examples of that additional work include creating new systems for automatically managing focus throughout the entire app, redesigning legacy features to make sure they can support proper semantics, and refactoring many of our core UI components to make sure they work with keyboards by default.</p><p>While many of the situations we encountered were complicated, they generally had solutions that came about naturally. Focus Rings, though, presented a unique challenge where every simple solution failed to meet our requirements for quality and effectiveness. We exhausted all of the functionality that browsers currently provide natively and ended up having to build our own solution from scratch.</p><p>Through all of this work, though, we learned a lot about the problem space for focus rings and potential ways that browsers could make this easier for everyone in the future. We’ve had some passing conversations about some of these problems with browser vendors already, and are hoping to see a collaborative effort with vendors and spec authors to turn these ideas into a real standard.</p><p>In the meantime, if you’d like to see the nitty-gritty about how we actually solved these problems, or if you’re in need of a consistent focus ring for your own application, we’ve released all of the code as an open-source package!</p><p>You can check that out on GitHub <a href="https://github.com/discord/focus-rings">here</a>.</p><figure class="w-richtext-align-center w-richtext-figure-type-image"><div><img alt="" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea96f067c567049e37542_1_UCCnoT4bvT2TevvigQWKug.gif"/></div><figcaption><em>We think it’s great too, Nelly.</em></figcaption></figure><p>Keyboard navigation is a fundamental part of creating accessible experiences that everyone can enjoy, and we’re delighted to finally bring a complete, high-quality implementation into Discord. This is a project that touches every part of the app and creates an entirely new way for people to interact with it.</p><p>We’re excited to see how users of all kinds can take advantage of this new way of navigating and are looking forward to future projects that will help us make Discord more accessible, more inclusive, and more available as the place to talk<em> </em>for <em>everyone</em>, regardless of their situation or abilities.<br/></p></div></div><div class="btn-wrapper w-condition-invisible"><a href="#" class="btn-blog w-dyn-bind-empty w-button"></a></div><div id="heading-2" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-3" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-4" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-5" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-6" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-7" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-8" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-9" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div><div id="heading-10" class="rich-wrapper"><div class="blog-post-content w-dyn-bind-empty w-richtext"></div></div></div><div class="column-desctop w-condition-invisible w-col w-col-2 w-col-stack"><div class="rich-content-right"><div class="paragraph-medium bot-marg">Contents</div><a href="#heading-1" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-2" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-3" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-4" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-5" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-6" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-7" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-8" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-9" class="title-menu-anchor w-dyn-bind-empty"></a><a href="#heading-10" class="title-menu-anchor w-dyn-bind-empty"></a></div></div></div><div class="divider-bar"></div><div class="blog-column w-row"><div class="w-col w-col-3 w-col-medium-6"><div class="author-title">THE AUTHOR</div></div><div class="w-col w-col-9 w-col-medium-6"><div class="the-author-section footer"><img alt="" loading="lazy" width="47" src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6126b858c5fd4773ce42ccc6_0_XdAwKyey_b45dhMb.png" class="blog-post-author-image-footer"/><div><div class="blog-post-author-footer">Jon Egeland</div><div class="blog-post-author-desc">Senior Software Engineer at Discord</div></div></div></div></div><div class="divider-bar"></div><div><div class="author-title">MORE FROM</div><div class="category-title-footer">Engineering &amp; Developers</div><div class="footer-more-from w-dyn-list"><div role="list" class="featured-small-list w-dyn-items w-row"><div role="listitem" class="collection-item-small blog w-dyn-item w-col w-col-4"><a href="pytest-daemon-10x-local-test-iteration-speed.html" class="link-block-4 w-inline-block"><img src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1).png" loading="lazy" alt="" sizes="(max-width: 767px) 83vw, (max-width: 991px) 29vw, (max-width: 1439px) 30vw, 434.6625061035156px" srcset="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-500.png 500w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-800.png 800w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-1080.png 1080w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-1600.png 1600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-2000.png 2000w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-2600.png 2600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1)-p-3200.png 3200w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/6555194328bacbf541b78da4_Engineering%20-%202%20(1).png 3600w" class="blog-featured-small-image"/></a><a href="../category/engineering.html" class="blog-hero-category">Engineering &amp; Developers</a><a href="pytest-daemon-10x-local-test-iteration-speed.html" class="link-block-20 w-inline-block"><div class="blog-featured-title-small">pytest daemon: 10X Local Test Iteration Speed</div></a></div><div role="listitem" class="collection-item-small blog w-dyn-item w-col w-col-4"><a href="ddevs-celebrates-250k-members.html" class="link-block-4 w-inline-block"><img src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader.png" loading="lazy" alt="" sizes="(max-width: 767px) 83vw, (max-width: 991px) 29vw, (max-width: 1439px) 30vw, 434.6625061035156px" srcset="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader-p-500.png 500w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader-p-800.png 800w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader-p-1080.png 1080w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader-p-1600.png 1600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/65690639d911b0d8f5dc758e_DDevs_250k_blogheader.png 1800w" class="blog-featured-small-image"/></a><a href="../category/engineering.html" class="blog-hero-category">Engineering &amp; Developers</a><a href="ddevs-celebrates-250k-members.html" class="link-block-20 w-inline-block"><div class="blog-featured-title-small">The DDevs Server Celebrates 250k Members!</div></a></div><div role="listitem" class="collection-item-small blog w-dyn-item w-col w-col-4"><a href="authentication-outage.html" class="link-block-4 w-inline-block"><img src="../../assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203.png" loading="lazy" alt="" sizes="(max-width: 767px) 83vw, (max-width: 991px) 29vw, (max-width: 1439px) 30vw, 434.6625061035156px" srcset="https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-500.png 500w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-800.png 800w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-1080.png 1080w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-1600.png 1600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-2000.png 2000w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-2600.png 2600w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203-p-3200.png 3200w, https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/63178bf5d9f1714116f6a66d_Resources%20%26%20Education%20-%203.png 3600w" class="blog-featured-small-image"/></a><a href="../category/engineering.html" class="blog-hero-category">Engineering &amp; Developers</a><a href="authentication-outage.html" class="link-block-20 w-inline-block"><div class="blog-featured-title-small">25% or 6 to 4: The 11/6/23 Authentication Outage</div></a></div></div></div></div></div><div class="footer-black"><div class="container-1180px-2"><div class="w-layout-grid grid-footer"><div id="w-node-_4154f574-5821-8ddb-f6fc-12aae7b6c861-e7b6c85e" class="vertical-flex"><div data-hover="false" data-delay="0" class="dropdown-3 w-dropdown"><div class="dropdown-toggle w-dropdown-toggle"><img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/6257bee91e6309a5a6f6b994_arrow.svg" loading="lazy" alt="" class="arrow"/><div>English, USA</div></div><nav class="dropdown-list-5 w-dropdown-list"><a href="#" class="dropdown-link-2 w-dropdown-link">български</a><a href="#" class="dropdown-link-2 czech w-dropdown-link">Čeština</a><a href="#" class="dropdown-link-2 dansk w-dropdown-link">Dansk</a><a href="#" class="dropdown-link-2 deutsch w-dropdown-link">Deutsch</a><a href="#" class="dropdown-link-2 greek w-dropdown-link">Ελληνικά</a><a href="#" class="dropdown-link-2 english w-dropdown-link">English, USA</a><a href="#" class="dropdown-link-2 spanish w-dropdown-link">Español</a><a href="#" class="dropdown-link-2 suomi w-dropdown-link">Suomi</a><a href="#" class="dropdown-link-2 french w-dropdown-link">Français</a><a href="#" class="dropdown-link-2 hindi w-dropdown-link">हिंदी</a><a href="#" class="dropdown-link-2 hrvatski w-dropdown-link">Hrvatski</a><a href="#" class="dropdown-link-2 magyar w-dropdown-link">Magyar</a><a href="#" class="dropdown-link-2 italiano w-dropdown-link">Italiano</a><a href="#" class="dropdown-link-2 japanese w-dropdown-link">日本語</a><a href="#" class="dropdown-link-2 korean w-dropdown-link">한국어</a><a href="#" class="dropdown-link-2 lithuanian w-dropdown-link">Lietuviškai</a><a href="#" class="dropdown-link-2 nederlands w-dropdown-link">Nederlands</a><a href="#" class="dropdown-link-2 norwegian w-dropdown-link">Norwegian</a><a href="#" class="dropdown-link-2 polski w-dropdown-link">Polski</a><a href="#" class="dropdown-link-2 brazilian-portuguese w-dropdown-link">Português do Brasil</a><a href="#" class="dropdown-link-2 romania w-dropdown-link">Română</a><a href="#" class="dropdown-link-2 ru w-dropdown-link">Русский</a><a href="#" class="dropdown-link-2 svenska w-dropdown-link">Svenska</a><a href="#" class="dropdown-link-2 thai w-dropdown-link">ไทย</a><a href="#" class="dropdown-link-2 turkey w-dropdown-link">Türkçe</a><a href="#" class="dropdown-link-2 ua w-dropdown-link">Українська</a><a href="#" class="dropdown-link-2 vietnamese w-dropdown-link">Tiếng Việt</a><a href="#" class="dropdown-link-2 chinese1 w-dropdown-link">中文</a><a href="#" class="dropdown-link-2 chinese w-dropdown-link">繁體中文</a></nav></div><div class="language"><div class="lang-container"><div id="locale-dropdown" class="lang-dropdown-container"><div class="lang-dropdown"></div></div><div class="lang-selector-container"><div class="locale-container"><img src="https://assets-global.website-files.com/plugins/Basic/assets/placeholder.60f9b1840c.svg" alt="" class="flag"/><div class="selector-language-name"></div></div><img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/6257bee91e6309a5a6f6b994_arrow.svg" loading="lazy" alt="" class="arrow-icon"/></div></div></div><div class="flex-horizontal top-soc"><a data-track="twitter" href="https://twitter.com/discord" target="_blank" class="link-s w-inline-block"><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/65814ad8d9f0b3d89c08fdad_X.svg" loading="lazy" alt="" class="image-49"/></a><a data-track="instagram" href="https://www.instagram.com/discord/" target="_blank" class="link-s w-inline-block"><img src="https://assets-global.website-files.com/6238e97f6441e30a13a52345/6436b5ef634f834a45100cff_svg4.svg" loading="lazy" alt="" class="image-49"/></a><a data-track="facebook" href="https://www.facebook.com/discord/" target="_blank" class="link-s w-inline-block"><img src="https://assets-global.website-files.com/6238e97f6441e30a13a52345/6436b5ef634f836372100cfc_svg5.svg" loading="lazy" alt="" class="image-49"/></a><a data-track="youtube" href="https://www.youtube.com/discord" target="_blank" class="link-s w-inline-block"><img src="https://assets-global.website-files.com/6238e97f6441e30a13a52345/6436b5ef634f83240a100cfe_svg6.svg" loading="lazy" alt="" class="image-49"/></a><a data-track="Tiktok" href="https://www.tiktok.com/@discord" target="_blank" class="link-s w-inline-block"><img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/6374a8122d8df285ddea0e9e_Tiktok (1).svg" loading="lazy" alt="" class="image-49"/></a></div></div><div id="w-node-_4154f574-5821-8ddb-f6fc-12aae7b6c8b6-e7b6c85e"><div class="paragraph-small top-marg font-blue">Product</div><a data-track="download" href="../download.html" class="link-footer">Download</a><a data-track="nitro" href="../nitro.html" class="link-footer">Nitro</a><a data-track="status" href="https://discordstatus.com/" class="link-footer">Status</a><a data-track="status" href="../application-directory.html" class="link-footer">App Directory</a><a data-track="status" href="../mobile.html" class="link-footer">New Mobile Experience</a></div><div id="w-node-_4154f574-5821-8ddb-f6fc-12aae7b6c8bf-e7b6c85e"><div class="paragraph-small top-marg font-blue">Company</div><a data-track="about" href="../company.html" class="link-footer">About</a><a data-track="jobs" href="../careers.html" class="link-footer">Jobs</a><a data-track="branding" href="../branding.html" class="link-footer">Brand</a><a data-track="newsroom" href="../newsroom.html" class="link-footer">Newsroom</a><a data-track="newsroom" href="../fallrelease.html" class="link-footer">Fall Release</a></div><div id="w-node-_4154f574-5821-8ddb-f6fc-12aae7b6c8ca-e7b6c85e"><div class="paragraph-small top-marg font-blue">Resources</div><a data-track="college" href="../college.html" class="link-footer">College</a><a data-track="support" href="https://support.discord.com/hc" class="link-footer">Support</a><a data-track="safety" href="../safety.html" class="link-footer">Safety</a><a data-track="blog" href="../blog.html" class="link-footer">Blog</a><a data-track="feedback" href="https://support.discord.com/hc/en-us/community/topics" class="link-footer">Feedback</a><a data-track="streamkit" href="../streamkit.html" class="link-footer">StreamKit</a><a data-track="creators" href="../creators.html" class="link-footer">Creators</a><a data-track="community" href="../community.html" class="link-footer">Community</a><a data-track="Build" href="../build.html" class="link-footer">Developers</a><a data-track="Build" href="../gaming.html" class="link-footer">Gaming</a><a data-track="store" href="https://discordmerch.com/evergreenfooter" class="link-footer">Official 3rd Party Merch</a></div><div id="w-node-_4154f574-5821-8ddb-f6fc-12aae7b6c8e1-e7b6c85e"><div class="paragraph-small top-marg font-blue">Policies</div><a data-track="terms" href="../terms.html" class="link-footer">Terms</a><a data-track="privacy" href="../privacy.html" class="link-footer">Privacy</a><a data-open-cookie-settings="true" href="#" class="link-footer">Cookie Settings</a><a data-track="guidelines" href="../guidelines.html" class="link-footer">Guidelines</a><a data-track="acknowledgement" href="../acknowledgements.html" class="link-footer">Acknowledgements</a><a data-track="licenses" href="../licenses.html" class="link-footer">Licenses</a><a data-track="moderation" href="../safety-library.html" class="link-footer">Moderation</a></div></div><div class="footer-line-blue"><a data-track="logo" href="../index.html" class="w-inline-block"><img src="https://assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/64cb9ed63bb88490555f45a1_Open Source Projects _ Discord-7.svg" loading="lazy" alt="" class="discord-footer"/></a><a data-track="login_footer" href="../app.html" class="button-white color-blue-right footer-open-discord-button footer-open-discord-button-js w-button">Sign up</a></div></div></div><script src="../../d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c84fb4.js?site=5f8dd67f8fdd6f51f0b50904" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="../../assets-global.website-files.com/5f8dd67f8fdd6f51f0b50904/js/discordpages.790f5716f.js" type="text/javascript"></script><script type="text/javascript" src="../w/loader/loader.js" async defer></script>
<script src="../webflow-scripts/bodyEnd.js" defer async></script>
<script>
  function initDownloadButton() {
    let userAgent = window.navigator.userAgent,
        platform = window.navigator.platform,
        macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'],
        windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'],
        iosPlatforms = ['iPhone', 'iPad', 'iPod'],
        buttonAttributes = null;

    if (iosPlatforms.indexOf(platform) !== -1) {
      buttonAttributes = {
        text: "Download on the App Store",
        href: "https://itunes.apple.com/us/app/discord-chat-for-games/id985746746",
      }
    } else if (macosPlatforms.indexOf(platform) !== -1) {
      buttonAttributes = {
        text: "Download for Mac",
        href: "https://discord.com/api/download?platform=osx",
      }
    } else if (windowsPlatforms.indexOf(platform) !== -1) {
      buttonAttributes = {
        text: "Download for Windows",
        href: "https://discord.com/api/download?platform=win",
      }
    } else if (/Android/.test(userAgent)) {
      buttonAttributes = {
        text: "Download on Google Play",
        href: "https://play.google.com/store/apps/details?id=com.discord",
      }
    } else if (!os && /Linux/.test(platform)) {
      buttonAttributes = {
        text: "Download for Linux",
        href: "https://discord.com/api/download?platform=linux",
      }
    }

	let downloadEl = document.querySelectorAll(".download-button");
    if (downloadEl) {
      downloadEl.forEach(function(el) {
        el.innerText = buttonAttributes.text;
        el.href = buttonAttributes.href;
      });
    }

	let downloadSidebarEl = document.querySelectorAll(".download-sidebar");
    if (downloadSidebarEl) {
      downloadSidebarEl.forEach(function(el) {
        el.href = buttonAttributes.href;
      });
    }
  }
  
  function initLogInOrOpenDiscordButton() {
    let loginButtonText, loginRoute, signUpButtonText, signupRoute;
    let loginIsOpenDiscordButton = true;
    const loginLink = '../login.html';
    const signupLink = '../register.html';
    const openLink = '../channels/%40me.html';
    
    if(window.localStorage.getItem("token") != null) {
      loginButtonText = "Open Discord";
      loginRoute = openLink;
      loginIsOpenDiscordButton = true;
      
      signUpButtonText = "Open Discord";
      signupRoute = openLink;
    } else {
      loginIsOpenDiscordButton = false;
      loginButtonText = "Login";
      signUpButtonText = "Sign up";
      loginRoute = loginLink;
      signupRoute = signupLink;
    }
    
    let loginEl = document.querySelectorAll(".login-button-js");
    let footerEl = document.querySelectorAll(".footer-open-discord-button-js");
    if (loginEl && loginEl.length > 0) {
      loginEl.forEach(function(el) {
        if (!loginIsOpenDiscordButton) {
        	el.classList.add('hide-on-mobile');
        }
        el.innerText = loginButtonText;
      	el.href = loginRoute;
        if (loginIsOpenDiscordButton) {
            el.dataset.trackNav = 'navbar-open-button';
        }
      });
    }
    if (footerEl && footerEl.length > 0) {
      footerEl.forEach(function(el) {
        if (window.innerWidth <= 768) {
        	el.innerText = "Download";
        } else {
        	el.innerText = signUpButtonText;
        }
        el.href = signupRoute;
      });
    }
  }
  
  function initSignUpOrOpenButtons() {
    const signupLink = '../register.html';
    const openLink = '../channels/%40me.html';
    const isLoggedIn = window.localStorage.getItem("token") != null;
    const buttonEl = document.querySelectorAll(".open-or-signup-js");
    
    if (buttonEl && buttonEl.length > 0) {
        buttonEl.forEach(function(el) {
            if (isLoggedIn) {
                el.innerText = 'Open Discord';
                el.href = openLink;
            } else {
                el.innerText = 'Sign up';
                el.href = signupLink;
            }
        });
    }
  }
  
  initSignUpOrOpenButtons();
  initLogInOrOpenDiscordButton();
  initDownloadButton();
</script>


<!-- build:inlineScriptNonceTag -->
  <script>
  <!-- endbuild -->
  </script>
  <!-- section:dataLayer -->
  <script src="../assets/oneTrust/v4/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="04da1d72-0626-4fff-b3c6-150c719cc115"></script>
  <!-- build:inlineScriptNonceTag -->
  <script>
    <!-- endbuild -->
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({ 'allCookiesOK': false });
  </script>
  <!-- endsection -->
  <!-- section:gtm -->
  <!-- build:inlineScriptNonceTag -->
  <script>
  <!-- endbuild -->
    (function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          '../../www.googletagmanager.com/gtm5445.html?id=' + i + dl + '&gtm_auth=GI0g9O-54_SitcgmxQKxlA&gtm_preview=env-2&gtm_cookies_win=x'; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-N7BVC2W');
  </script>
  <!-- endsection --><script type="application/ld+json">
{ 
 "@context": "http://schema.org", 
 "@type": "BlogPosting",
 "headline": "How Discord Implemented App-Wide Keyboard Navigation",
 "image": "https://assets-global.website-files.com/5f9072399b2640f14d6a2bf4/611ea97c3267e8bc01e721ac_1_I3UXBtICu_-3cAoT29yIEg.png",
 "publisher": "Discord",
 "url": "https://discord.com/blog/how-discord-implemented-app-wide-keyboard-navigation",
 "datePublished": "Aug 31, 2023",
 "dateCreated": "Aug 19, 2021",
 "dateModified": "Aug 24, 2023",
 "description": "We expanded keyboard support beyond just specific shortcuts to *everything*, making Keyboard Navigation a truly first-class experience.",
   "author": {
    "@type": "Person",
    "name": "Jon Egeland"
  }
 }
</script>

<script nonce="MTEwLDIzOSwyMjUsMTM0LDIyMyw4OSwxOTcsMjE1">(function(){var js = "window['__CF$cv$params']={r:'83f19af4ffdc898f',t:'MTcwNDE4Mzg2Mi41OTQwMDA='};_cpo=document.createElement('script');_cpo.nonce='MTEwLDIzOSwyMjUsMTM0LDIyMyw4OSwxOTcsMjE1',_cpo.src='../cdn-cgi/challenge-platform/h/g/scripts/jsd/74bd6362/main.js',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = 'MTEwLDIzOSwyMjUsMTM0LDIyMyw4OSwxOTcsMjE1';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
<!-- Mirrored from discord.com/blog/how-discord-implemented-app-wide-keyboard-navigation by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 02 Jan 2024 08:48:38 GMT -->
</html>