(()=>{"use strict";var e={829:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.creatorQuiz=void 0,t.creatorQuiz={answers:[]}},317:(e,t)=>{var i,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.GoalStepChoices=t.ServerStepChoices=t.QuizSteps=void 0,(o=t.QuizSteps||(t.QuizSteps={})).GAOL="Goal",o.SERVER="Server",(r=t.ServerStepChoices||(t.ServerStepChoices={})).YES="Yes",r.NO="No",(i=t.GoalStepChoices||(t.GoalStepChoices={})).COMMUNITY="Community",i.MONEY="Money",i.BOTH="Both"},967:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRedirectUrl=t.getQuizStepName=t.getQuizStep=void 0;const r=i(317),o=i(829);t.getQuizStep=function(e){let t=e.closest("[data-quiz-step]");if(t){let e=t.dataset.quizStep;return e?parseInt(e):0}return 0},t.getQuizStepName=function(e){let t=e.closest("[data-quiz-step-name]");if(t){return t.dataset.quizStepName||""}return""},t.getRedirectUrl=function(){return"/persona/"+(o.creatorQuiz.answers.find((e=>e.quizStepName===r.QuizSteps.SERVER))?.quizChoice===r.ServerStepChoices.NO?function(){let e=o.creatorQuiz.answers.find((e=>e.quizStepName===r.QuizSteps.GAOL))?.quizChoice||"";return function(){let e=new Map;return e.set(r.GoalStepChoices.COMMUNITY,"first"),e.set(r.GoalStepChoices.MONEY,"second"),e.set(r.GoalStepChoices.BOTH,"third"),e}().get(e)||""}():function(){let e=o.creatorQuiz.answers.find((e=>e.quizStepName===r.QuizSteps.GAOL))?.quizChoice||"";return function(){let e=new Map;return e.set(r.GoalStepChoices.COMMUNITY,"fourth"),e.set(r.GoalStepChoices.MONEY,"fifth"),e.set(r.GoalStepChoices.BOTH,"sixth"),e}().get(e)||""}())}}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,i),u.exports}(()=>{const e=i(967),t=i(317),r=i(829);function o(e){r.creatorQuiz.answers||(r.creatorQuiz.answers=[]);let t=r.creatorQuiz.answers.findIndex((t=>t.quizStep===e.quizStep));-1==t?r.creatorQuiz.answers.push(e):r.creatorQuiz.answers[t]=e;let i=document.querySelectorAll(`input[quiz-step-choice="${e.quizStepName}"]`);if(i)for(let t of i)t.value=e.quizChoice}function u(e){let t=document.querySelector(".quiz-progress-bar");t&&(document.querySelectorAll("[data-quiz-step]"),t.style.width=25*e+"%")}(function(){let i=document.querySelectorAll("[data-quiz-choice]");i&&i.forEach((i=>i.addEventListener("click",(i=>{let n=i.currentTarget,c=(0,e.getQuizStep)(n),s=(0,e.getQuizStepName)(n),a={quizChoice:n.dataset.quizChoice||"",quizStepName:s,quizStep:c};1===c&&function(){r.creatorQuiz.answers=[];let e=document.querySelectorAll("input[quiz-step-choice]");if(e)for(let t of e)t.value=""}(),o(a),function(i){let o=r.creatorQuiz.answers.find((e=>e.quizStepName===t.QuizSteps.SERVER)),u=document.querySelectorAll('[data-quiz-state="existMember"]'),n=document.querySelectorAll('[data-quiz-state="newMember"]');o&&o.quizChoice===t.ServerStepChoices.YES?(u.forEach((e=>e.classList.remove("hidden"))),n.forEach((e=>e.classList.add("hidden")))):(u.forEach((e=>e.classList.add("hidden"))),n.forEach((e=>e.classList.remove("hidden")))),function(e){return 3===e}(i)&&function(){let t=document.querySelectorAll("form[quiz-form]"),i=(0,e.getRedirectUrl)();if(t)for(let e of t){let t=e,r=t.getAttribute("redirect")===i;t.style.display=r?"flex":"none"}}()}(c),u(c+1)}))))})(),function(){let t=document.getElementById("serverLinkSubmit");t&&t.addEventListener("click",(t=>{let i=t.currentTarget,r=(0,e.getQuizStep)(i),u=(0,e.getQuizStepName)(i);o({quizChoice:document.getElementById("serverLink").value,quizStepName:u,quizStep:r})}))}(),function(){let t=document.querySelectorAll('[id^="quizBackStep"]');t&&t.forEach((t=>t.addEventListener("click",(t=>{let i=t.currentTarget;u((0,e.getQuizStep)(i)-1)}))))}(),function(){let t=document.getElementById("skipLastStep");t&&t.addEventListener("click",(t=>{window.location.href=(0,e.getRedirectUrl)()}))}()})()})();